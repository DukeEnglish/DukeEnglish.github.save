---
layout: post
title:  "【3】爱丁堡大学的PMR（PMR in the University of Edinburgh"
date:   2017-09-17 
categories: 机器学习
tags: 机器学习
---

接下来，我们要讲一下有向图啦。嗯，我们在之前的【2】中讲到了无项因子图，今天要说一下有向图。如果因子（factor）采取了这样的形式P（x,y|r,s），
那么箭头从r,s到因子再从因子到x,y：
![factorgraph][1] 
这是一个混合图，一部分有向图，一部分无向。
------华丽的分割线-----
好咧，接下来要说的东西是一个叫做独立性的东西。就是这些节点之间究竟会不会对互相有影响。我们知道
P(x,y)=P(x)P(y) ，所以有P(x|y)=P(x)P(y)/P(y)=P(x)
就说明x，y相互独立。
换句话说就是相互之间是否有影响。即已知某个变量x，x是否能够暗示给你别的变量的信息。
我不想画新的图啦，所以就用一下老师的

![withlabel][2]
 
来我们用x表示变量，f表示因子，那么上图就是：
F1=P(x5|x1,x2)
F2=P(x5,x6|x1,x2)
F3=f(x7,x1,x2,x3)
F4=f(x8,x1,x2)
那么如何判定两个变量是否独立，就是判断，一个变量的改变，是否会影响到另一个变量，会，那就是不独立。我们引入了一个“流”的概念。就是说影响是否会从x1流向x2. 我们有两条判定条件可以记住来判定一条路是否流通：
1，	路上的一个变量是在条件集合中（即已知）
2，	路上的一个变量或者因子有两个输入箭头，并且这两个箭头都在这条信息路上，而且这个变量/因子以及其子孙都不在条件集合中（即未知）
而想要判定两个变量互相不影响，必须两个变量之间的所有通路都不流通才可以

第一个很简单，就是说如果通路中的一个变量已知，那么信息就被“阻断了”
e.g. x->z->y. 如果z已知，那么x到y的消息就被z阻断了，因为x是通过影响z来影响y的。当z已知，那么x就无法影响y了：即P(y|x,z)=P(y|z)
我们来说说第二个，只看上图中x1，2，5，6和f1,2的情况：
我们想要判断x1是否可以影响x5，那么我们首先要找到x1到x5的通路有哪些：
1，	x1->f1->x5；如果f1已知，那么这条路就被阻断了
2，	x1->f1<-x2->f2->x5。如果f1未知，而f1有两个进入箭头，并且都是路的一部分，并且f1以及f1的子孙（x5）都不是已知量，那么这条路就被阻断了。同时f2也是类似的问题

所以x1是否可以影响x5，即这两个是否独立，是由已知条件来决定的。因为pmr的课件讲到block，其实block阻碍的是信息流动。

--------------贝叶斯网络和马尔科夫网络------------
将一个因子图转换为一个贝叶斯网络很简单。如果所有得边是有向的并且所有变量都只有一个输入，且没有有向环。你所需要做的就是将因子弃掉，将箭头直接指向那个唯一拥有被因子指向的变量就得到了贝叶斯网络
![bn][3]
那么如何形成马尔科夫网络呢?如下图ppt所示
![mrn][4] 

我前几天就找个时间，用samiam画了一个简单的贝叶斯网络，用来判断一个人是否可以得到offer。不过这个应该给面试官用把，或者可以自评。不过因为没有什么数据做支撑，我就自己画着玩吧。文件我上传到了github中。这个软件怎么用可以自己google，或者coursera中PGM的老师有介绍这个，很简单！
结论就是，肤白貌美的双语学习又好的姑娘就是offer收割机！因为如果我是面试官我就这样选——(lll￢ω￢)

今天我收拾东西的时候，有三本书想带，但是就去一个月，肯定看不完！怎么办！于是我还是想用类似的图来帮我决策一下下。其实我都不知道我自己用的对不对，但是我觉得是对的，而且挺有意思的哈哈。


  [1]: https://raw.githubusercontent.com/DukeEnglish/DukeEnglish.github.io/master/Pic-blog/factorg.png
  [2]: https://raw.githubusercontent.com/DukeEnglish/DukeEnglish.github.io/master/Pic-blog/2fg.png
  [3]: https://raw.githubusercontent.com/DukeEnglish/DukeEnglish.github.io/master/Pic-blog/bn.png
  [4]: https://raw.githubusercontent.com/DukeEnglish/DukeEnglish.github.io/master/Pic-blog/mrn.png
